<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link  href="../dist/cropper.css" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <div>
        <img id="image" src="src/images/chen.jpg"/>
    </div>
</body>
<style>
    img{
        max-width: 100%;
    }
</style>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="../dist/cropper.common.js"></script>
<script>
        $('#image').cropper({
            aspectRatio: 4 / 3,
            crop: function(e) {
                // Output the result data for cropping image.
                console.log(e.x);
                console.log(e.y);
                console.log(e.width);
                console.log(e.height);
                console.log(e.rotate);
                console.log(e.scaleX);
                console.log(e.scaleY);
            }
        }); 

var cvs = document.createElement('canvas');
var img = $('#image')[0];
var width = img.naturalWidth,
    height = img.naturalHeight;
cvs.width = width;
cvs.height = height; 
 
var ctx = cvs.getContext("2d");
var destX = 0,
    destY = 0;
ctx.drawImage(img, destX, destY);
 
//把选中框里的图片内容存起来
var imageData = ctx.getImageData(cropOptions.x, cropOptions.y, cropOptions.width, cropOptions.height);
cvs.width = cropOptions.width;
cvs.height = cropOptions.height;
//然后再画上去
ctx.putImageData(imageData, 0, 0);
</script>
</html>
